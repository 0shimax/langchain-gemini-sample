# AIエージェント設計書: 東京都内天然温泉銭湯施設

## 1. 目的と目標

このAIエージェントの主な目的は、東京都内にある天然温泉銭湯施設に関するユーザーの質問に対し、正確で役立つ回答を提供することです。エージェントは、様々なデータソースから得られた知識ベースを活用し、関連情報を検索して回答を生成します。

## 2. 範囲

AIエージェントは、以下の質問に焦点を当てて回答します。
*   東京都内の天然温泉銭湯施設の場所と住所。
*   営業時間と定休日。
*   入浴料金。
*   利用可能な設備（例：浴槽の種類、サウナ、アメニティ）。
*   アクセス情報（例：最寄り駅、交通手段）。
*   特定の施設のユニークな特徴や特性。

範囲外の事項:
*   リアルタイムの空き状況や混雑情報。
*   予約機能。
*   東京都外の非天然温泉銭湯施設に関する情報。

## 3. 高レベルアーキテクチャ

AIエージェントは、大規模言語モデル（LLM）と堅牢な情報検索システムを組み合わせた検索拡張生成（RAG）アーキテクチャを採用します。

```
ユーザーの質問
      |
      V
[質問の理解/前処理]
      |
      V
[情報検索（ベクトルデータベース/知識ベース）]
      |
      V
[文脈情報] + [ユーザーの質問]
      |
      V
[大規模言語モデル（LLM）]
      |
      V
[生成された回答]
```

**コンポーネント:**
*   **ユーザーインターフェース (UI)**: （未定、例：シンプルなコマンドラインインターフェース、ウェブインターフェース）。
*   **質問の理解/前処理**: ユーザーの質問を解析し、検索に適した形に再構築する可能性があります。
*   **情報検索**: 処理された質問に基づいて、構造化された知識ベース（例：ベクトルデータベース）から関連するドキュメントやデータスニペットを検索します。
*   **知識ベース**: 東京都内の天然温泉銭湯施設に関する情報を保存します。
*   **大規模言語モデル (LLM)**: 検索された文脈と元のユーザーの質問に基づいて、自然言語の回答を生成します。

## 4. データソース

主要なデータソースは、ウェブ上の公開情報から東京都内の天然温泉銭湯施設に関する情報を収集することになります。

潜在的なデータ抽出方法:
*   手動でのデータ入力/キュレーション。
*   ウェブスクレイピング（許可され、他のソースで実行可能な場合）。
*   API連携（銭湯情報に利用可能な場合）。

抽出されたデータは、効率的な検索に適した形式（例：JSON、Markdown、またはベクトルデータベースに埋め込み）で構造化され、保存されます。

## 5. テクノロジー

*   **プログラミング言語**: Python
*   **AIフレームワーク**: LangChain（LLMとの対話、検索、エージェントロジックのオーケストレーション用）
*   **LLMプロバイダー**: （未定、例：OpenAI GPT、Google Gemini、Hugging Faceモデル）
*   **ベクトルデータベース/埋め込みモデル**: （未定、例：FAISS、ChromaDB、Sentence Transformers）
*   **データストレージ**: 構造化データ用のフラットファイル（例：JSON、Markdown）またはシンプルなデータベース。

## 6. 開発計画（高レベル）

1.  **フェーズ1: データ取得と準備**
    *   ウェブ上の公開情報源から、東京都内の天然温泉銭湯施設に関する主要なデータポイントを特定し、収集します。
    *   収集した関連情報を抽出し、機械可読な形式（例：JSON）に構造化します。
    *   抽出されたデータの埋め込みを作成します。
    *   埋め込みと元のテキストをローカルのベクトルデータベースに投入します。

2.  **フェーズ2: コアエージェント開発**
    *   基本的なLangChainアプリケーションをセットアップします。
    *   ベクトルデータベースを使用して情報検索コンポーネントを実装します。
    *   回答生成のためにLLMを統合します。
    *   シンプルなクエリインターフェース（例：コマンドライン入力）を開発します。

3.  **フェーズ3: テストと改善**
    *   予想されるユーザーの質問に基づいてテストケースを開発します。
    *   エージェントの回答の正確性と関連性を評価します。
    *   パフォーマンスを向上させるために、データ、検索メカニズム、LLMプロンプトを繰り返し改善します。

4.  **フェーズ4: デプロイ（オプション）**
    *   エージェントのデプロイオプション（例：ウェブサービス、ローカルアプリケーションとして）を検討します。